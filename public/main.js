!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["react","prop-types"],t):"object"==typeof exports?exports.TWZipCode=t(require("react"),require("prop-types")):e.TWZipCode=t(e.React,e.PropTypes)}(this,function(e,t){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";t.a={"縣市":{"鄉鎮市區":"郵遞區號"},"基隆市":{"仁愛區":"200","信義區":"201","中正區":"202","中山區":"203","安樂區":"204","暖暖區":"205","七堵區":"206"},"臺北市":{"中正區":"100","大同區":"103","中山區":"104","松山區":"105","大安區":"106","萬華區":"108","信義區":"110","士林區":"111","北投區":"112","內湖區":"114","南港區":"115","文山區":"116"},"新北市":{"萬里區":"207","金山區":"208","板橋區":"220","汐止區":"221","深坑區":"222","石碇區":"223","瑞芳區":"224","平溪區":"226","雙溪區":"227","貢寮區":"228","新店區":"231","坪林區":"232","烏來區":"233","永和區":"234","中和區":"235","土城區":"236","三峽區":"237","樹林區":"238","鶯歌區":"239","三重區":"241","新莊區":"242","泰山區":"243","林口區":"244","蘆洲區":"247","五股區":"248","八里區":"249","淡水區":"251","三芝區":"252","石門區":"253"},"宜蘭縣":{"宜蘭市":"260","頭城鎮":"261","礁溪鄉":"262","壯圍鄉":"263","員山鄉":"264","羅東鎮":"265","三星鄉":"266","大同鄉":"267","五結鄉":"268","冬山鄉":"269","蘇澳鎮":"270","南澳鄉":"272","釣魚臺列嶼":"290"},"新竹市":{"東區":"300","北區":"300","香山區":"300"},"新竹縣":{"竹北市":"302","湖口鄉":"303","新豐鄉":"304","新埔鎮":"305","關西鎮":"306","芎林鄉":"307","寶山鄉":"308","竹東鎮":"310","五峰鄉":"311","橫山鄉":"312","尖石鄉":"313","北埔鄉":"314","峨嵋鄉":"315"},"桃園市":{"中壢區":"320","平鎮區":"324","龍潭區":"325","楊梅區":"326","新屋區":"327","觀音區":"328","桃園區":"330","龜山區":"333","八德區":"334","大溪區":"335","復興區":"336","大園區":"337","蘆竹區":"338"},"苗栗縣":{"竹南鎮":"350","頭份市":"351","三灣鄉":"352","南庄鄉":"353","獅潭鄉":"354","後龍鎮":"356","通霄鎮":"357","苑裡鎮":"358","苗栗市":"360","造橋鄉":"361","頭屋鄉":"362","公館鄉":"363","大湖鄉":"364","泰安鄉":"365","銅鑼鄉":"366","三義鄉":"367","西湖鄉":"368","卓蘭鎮":"369"},"臺中市":{"中區":"400","東區":"401","南區":"402","西區":"403","北區":"404","北屯區":"406","西屯區":"407","南屯區":"408","太平區":"411","大里區":"412","霧峰區":"413","烏日區":"414","豐原區":"420","后里區":"421","石岡區":"422","東勢區":"423","和平區":"424","新社區":"426","潭子區":"427","大雅區":"428","神岡區":"429","大肚區":"432","沙鹿區":"433","龍井區":"434","梧棲區":"435","清水區":"436","大甲區":"437","外埔區":"438","大安區":"439"},"彰化縣":{"彰化市":"500","芬園鄉":"502","花壇鄉":"503","秀水鄉":"504","鹿港鎮":"505","福興鄉":"506","線西鄉":"507","和美鎮":"508","伸港鄉":"509","員林市":"510","社頭鄉":"511","永靖鄉":"512","埔心鄉":"513","溪湖鎮":"514","大村鄉":"515","埔鹽鄉":"516","田中鎮":"520","北斗鎮":"521","田尾鄉":"522","埤頭鄉":"523","溪州鄉":"524","竹塘鄉":"525","二林鎮":"526","大城鄉":"527","芳苑鄉":"528","二水鄉":"530"},"南投縣":{"南投市":"540","中寮鄉":"541","草屯鎮":"542","國姓鄉":"544","埔里鎮":"545","仁愛鄉":"546","名間鄉":"551","集集鎮":"552","水里鄉":"553","魚池鄉":"555","信義鄉":"556","竹山鎮":"557","鹿谷鄉":"558"},"嘉義市":{"東區":"600","西區":"600"},"嘉義縣":{"番路鄉":"602","梅山鄉":"603","竹崎鄉":"604","阿里山":"605","中埔鄉":"606","大埔鄉":"607","水上鄉":"608","鹿草鄉":"611","太保市":"612","朴子市":"613","東石鄉":"614","六腳鄉":"615","新港鄉":"616","民雄鄉":"621","大林鎮":"622","溪口鄉":"623","義竹鄉":"624","布袋鎮":"625"},"雲林縣":{"斗南鎮":"630","大埤鄉":"631","虎尾鎮":"632","土庫鎮":"633","褒忠鄉":"634","東勢鄉":"635","臺西鄉":"636","崙背鄉":"637","麥寮鄉":"638","斗六市":"640","林內鄉":"643","古坑鄉":"646","莿桐鄉":"647","西螺鎮":"648","二崙鄉":"649","北港鎮":"651","水林鄉":"652","口湖鄉":"653","四湖鄉":"654","元長鄉":"655"},"臺南市":{"中西區":"700","東區":"701","南區":"702","北區":"704","安平區":"708","安南區":"709","永康區":"710","歸仁區":"711","新化區":"712","左鎮區":"713","玉井區":"714","楠西區":"715","南化區":"716","仁德區":"717","關廟區":"718","龍崎區":"719","官田區":"720","麻豆區":"721","佳里區":"722","西港區":"723","七股區":"724","將軍區":"725","學甲區":"726","北門區":"727","新營區":"730","後壁區":"731","白河區":"732","東山區":"733","六甲區":"734","下營區":"735","柳營區":"736","鹽水區":"737","善化區":"741","大內區":"742","山上區":"743","新市區":"744","安定區":"745"},"高雄市":{"新興區":"800","前金區":"801","苓雅區":"802","鹽埕區":"803","鼓山區":"804","旗津區":"805","前鎮區":"806","三民區":"807","楠梓區":"811","小港區":"812","左營區":"813","仁武區":"814","大社區":"815","東沙群島":"817","南沙群島":"819","岡山區":"820","路竹區":"821","阿蓮區":"822","田寮區":"823","燕巢區":"824","橋頭區":"825","梓官區":"826","彌陀區":"827","永安區":"828","湖內區":"829","鳳山區":"830","大寮區":"831","林園區":"832","鳥松區":"833","大樹區":"840","旗山區":"842","美濃區":"843","六龜區":"844","內門區":"845","杉林區":"846","甲仙區":"847","桃源區":"848","那瑪夏區":"849","茂林區":"851","茄萣區":"852"},"屏東縣":{"屏東市":"900","三地門鄉":"901","霧臺鄉":"902","瑪家鄉":"903","九如鄉":"904","里港鄉":"905","高樹鄉":"906","鹽埔鄉":"907","長治鄉":"908","麟洛鄉":"909","竹田鄉":"911","內埔鄉":"912","萬丹鄉":"913","潮州鎮":"920","泰武鄉":"921","來義鄉":"922","萬巒鄉":"923","崁頂鄉":"924","新埤鄉":"925","南州鄉":"926","林邊鄉":"927","東港鎮":"928","琉球鄉":"929","佳冬鄉":"931","新園鄉":"932","枋寮鄉":"940","枋山鄉":"941","春日鄉":"942","獅子鄉":"943","車城鄉":"944","牡丹鄉":"945","恆春鎮":"946","滿州鄉":"947"},"臺東縣":{"臺東市":"950","綠島鄉":"951","蘭嶼鄉":"952","延平鄉":"953","卑南鄉":"954","鹿野鄉":"955","關山鎮":"956","海端鄉":"957","池上鄉":"958","東河鄉":"959","成功鎮":"961","長濱鄉":"962","太麻里鄉":"963","金峰鄉":"964","大武鄉":"965","達仁鄉":"966"},"花蓮縣":{"花蓮市":"970","新城鄉":"971","秀林鄉":"972","吉安鄉":"973","壽豐鄉":"974","鳳林鎮":"975","光復鄉":"976","豐濱鄉":"977","瑞穗鄉":"978","萬榮鄉":"979","玉里鎮":"981","卓溪鄉":"982","富里鄉":"983"},"金門縣":{"金沙鎮":"890","金湖鎮":"891","金寧鄉":"892","金城鎮":"893","烈嶼鄉":"894","烏坵鄉":"896"},"連江縣":{"南竿鄉":"209","北竿鄉":"210","莒光鄉":"211","東引鄉":"212"},"澎湖縣":{"馬公市":"880","西嶼鄉":"881","望安鄉":"882","七美鄉":"883","白沙鄉":"884","湖西鄉":"885"}}},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(1),u=n.n(s),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=function(e){function t(){var e,n,a,i;o(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onChange=function(e){a.props.changeCounty(e.target.value)},i=n,r(a,i)}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.fieldName,o=e.className,r=e.value,a=t.map(function(e){return c.a.createElement("option",{key:e,value:e},e)});return c.a.createElement("select",{name:n,className:o,onChange:this.onChange,value:r},a)}}]),t}(i.PureComponent);p.propTypes={changeCounty:u.a.func,className:u.a.string,data:u.a.arrayOf(u.a.string),value:u.a.string,fieldName:u.a.string},t.a=p},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(1),u=n.n(s),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=function(e){function t(){var e,n,a,i;o(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onChange=function(e){var t=e.target.value;a.props.changeDistrict(t)},i=n,r(a,i)}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.fieldName,o=e.className,r=e.value,a=t.map(function(e){return c.a.createElement("option",{key:e,value:e},e)});return c.a.createElement("select",{name:n,className:o,onChange:this.onChange,value:r},a)}}]),t}(i.PureComponent);p.propTypes={changeDistrict:u.a.func,className:u.a.string,data:u.a.arrayOf(u.a.string),value:u.a.string,fieldName:u.a.string},t.a=p},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(1),u=n.n(s),l=n(2),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=function(e){function t(){var e,n,a,i;o(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.onChange=function(e){var t=e.target.value;a.props.changeZipcode(t),3===t.length&&Object.keys(l.a).forEach(function(e){Object.keys(l.a[e]).some(function(n){return t===l.a[e][n]&&a.props.changeZipcode(t)})})},i=n,r(a,i)}return a(t,e),p(t,[{key:"render",value:function(){return c.a.createElement("input",{type:"text",className:this.props.className,name:this.props.fieldName,value:this.props.value,onChange:this.onChange,placeholder:this.props.placeholder,maxLength:"3"})}}]),t}(i.PureComponent);f.propTypes={changeZipcode:u.a.func,className:u.a.string,value:u.a.string,fieldName:u.a.string,placeholder:u.a.string},t.a=f},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return r});var o=function(e){var t=[];for(var n in e)({}).hasOwnProperty.call(e,n)&&t.push(n+"="+e[n]);return t.join("&")},r=function(e,t){var n={};return Object.keys(e).forEach(function(o){Object.keys(e[o]).forEach(function(r){e[o][r]===t.toString()&&(n={county:o,district:r})})}),n}},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),c=n.n(i),s=n(1),u=n.n(s),l=n(3),p=n(4),f=n(5),d=n(2),y=n(6),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),g=function(e){function t(){var e,a,i,c;o(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return a=i=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),i.changeCounty=function(e){var t=Object.keys(d.a[e]).map(function(e){return e},[]),n=i.props.handleChangeCounty;i.setState({county:e,district:t[0],zipcode:d.a[e][t[0]],districts:t},function(){"function"==typeof n&&n({county:i.state.county,district:i.state.district,zipcode:i.state.zipcode})})},i.changeDistrict=function(e){var t=d.a[i.state.county][[e][0]],n=i.props.handleChangeDistrict;i.setState({district:e,zipcode:t},function(){"function"==typeof n&&n({county:i.state.county,district:i.state.district,zipcode:i.state.zipcode})})},i.changeZipcode=function(e){if(e&&3===e.length){var t=n.i(y.a)(d.a,e),o=t.county,r=t.district,a=i.props.handleChangeZipcode;o&&r&&e&&i.setState({districts:Object.keys(d.a[o]),county:o,district:r,zipcode:e},function(){"function"==typeof a&&a({county:i.state.county,district:i.state.district,zipcode:i.state.zipcode})})}else i.setState({zipcode:e})},i.geoLocation=function(){var e=window&&window.navigator&&window.navigator.geolocation,t={maximumAge:6e5,timeout:1e4,enableHighAccuracy:!1};e&&e.getCurrentPosition(function(e){var t=e.coords,o=[],r="https://maps.googleapis.com/maps/api/geocode/json";if(t&&t.latitude&&t.longitude){o=[t.latitude,t.longitude];var a=new XMLHttpRequest,c={sensor:!1,latlng:o.join(","),key:i.props.googleMapsKey};c&&(r+="?"+n.i(y.b)(c)),a.open("GET",r,!0),a.send(),a.onreadystatechange=function(){if(4===a.readyState&&200===a.status){var e=JSON.parse(a.responseText),t="";e&&{}.hasOwnProperty.call(e,"results")&&{}.hasOwnProperty.call(e.results[0],"address_components")&&void 0!==e.results[0].address_components[0]&&(t=e.results[0].address_components[e.results[0].address_components.length-1].long_name)&&i.changeZipcode.call(i,t)}}}},null,t)},c=a,r(i,c)}return a(t,e),h(t,[{key:"componentWillMount",value:function(){var e=Object.keys(d.a),t=this.props,n=t.countyValue,o=t.districtValue,r=t.detect,a=t.zipcodeValue,i=""===n?e[0]:n,c=void 0,s="",u=Object.keys(d.a[i]).map(function(e){return e},[]);c=""===o?u[0]:u.indexOf(o)>-1?o:u[0],s=d.a[i][c],this.setState({county:i,counties:e,district:c,districts:u,zipcode:s}),r&&this.geoLocation(),""!==a&&this.changeZipcode.call(this,a)}},{key:"componentWillReceiveProps",value:function(e){e.countyValue&&e.countyValue!==this.props.countyValue&&this.changeCounty.call(this,e.countyValue),e.districtValue&&e.districtValue!==this.props.districtValue&&this.changeDistrict.call(this,e.districtValue),e.zipcodeValue&&e.zipcodeValue!==this.props.zipcodeValue&&this.changeZipcode.call(this,e.zipcodeValue)}},{key:"render",value:function(){var e=this.props,t=e.countyFieldName,n=e.districtFieldName,o=e.zipcodeFieldName,r=e.zipcodePlaceholder,a=e.css,i=this.state,s=i.counties,u=i.county,d=i.districts,y=i.district,h=i.zipcode;return c.a.createElement("div",null,c.a.createElement(l.a,{fieldName:t,className:a[0],data:s,value:u,changeCounty:this.changeCounty}),c.a.createElement(p.a,{fieldName:n,className:a[1],data:d,value:y,changeDistrict:this.changeDistrict}),c.a.createElement(f.a,{fieldName:o,className:a[2],value:h,placeholder:r,changeZipcode:this.changeZipcode}))}}]),t}(i.PureComponent);g.state={county:"",counties:Object.keys(d.a),district:"",districts:[],zipcode:"",zipcodePlaceholder:""},g.propTypes={countyFieldName:u.a.string,countyValue:u.a.string,css:u.a.arrayOf(u.a.string),detect:u.a.bool,districtFieldName:u.a.string,districtValue:u.a.string,googleMapsKey:u.a.string,handleChangeCounty:u.a.func,handleChangeDistrict:u.a.func,handleChangeZipcode:u.a.func,zipcodeFieldName:u.a.string,zipcodeValue:u.a.string,zipcodePlaceholder:u.a.string},g.defaultProps={countyFieldName:"county",countyValue:"",css:["county-sel","district-sel","zipcode"],detect:!1,districtFieldName:"district",districtValue:"",googleMapsKey:"",handleChangeCounty:void 0,handleChangeDistrict:void 0,handleChangeZipcode:void 0,zipcodeFieldName:"zipcode",zipcodeValue:"",zipcodePlaceholder:""},t.default=g}])});